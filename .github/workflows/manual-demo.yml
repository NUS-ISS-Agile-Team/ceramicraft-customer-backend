name: Manual Trigger Demo

on:
  workflow_dispatch: # å…è®¸æ‰‹åŠ¨è§¦å‘
    inputs: # å®šä¹‰è¾“å…¥å‚æ•°ï¼ˆå¯é€‰ï¼‰
      environment:
        description: 'è¦éƒ¨ç½²çš„ç¯å¢ƒ'
        required: true
        default: 'staging'
        type: choice
        options:
          - staging
          - production
      debug-mode:
        description: 'å¯ç”¨è°ƒè¯•æ¨¡å¼'
        required: false
        default: false
        type: boolean

jobs:
  say-hello:
    name: æ‰“æ‹›å‘¼å’Œè°ƒè¯•
    runs-on: ubuntu-latest
    steps:
      - name: æ£€å‡ºä»£ç ï¼ˆé€šå¸¸ç¬¬ä¸€æ­¥éƒ½éœ€è¦ï¼‰
        uses: actions/checkout@v4

      - name: æ‰“æ‹›å‘¼
        run: |
          echo "ğŸ‰ å·¥ä½œæµè¢«æ‰‹åŠ¨è§¦å‘äº†ï¼"
          echo "æ‚¨é€‰æ‹©çš„ç¯å¢ƒæ˜¯ï¼š${{ github.event.inputs.environment }}"
          echo "è°ƒè¯•æ¨¡å¼æ˜¯å¦å¼€å¯ï¼š${{ github.event.inputs.debug-mode }}"

  simulate-deploy:
    name: æ¨¡æ‹Ÿéƒ¨ç½²
    runs-on: ubuntu-latest
    needs: say-hello # è¡¨ç¤ºæ­¤jobä¾èµ–äºsay-hello jobå®Œæˆ
    if: ${{ github.event.inputs.environment == 'production' }} # ä»…å½“ç¯å¢ƒä¸ºproductionæ—¶è¿è¡Œ
    steps:
      - name: æ¨¡æ‹Ÿç”Ÿäº§éƒ¨ç½²
        run: echo "ğŸš€ æ­£åœ¨æ¨¡æ‹Ÿéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ...(è¿™é‡Œå¯ä»¥æ›¿æ¢ä¸ºçœŸå®çš„éƒ¨ç½²è„šæœ¬)"